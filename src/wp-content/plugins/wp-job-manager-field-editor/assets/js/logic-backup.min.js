jQuery(function(a){window.jmfe_logic_instance=window.jmfe_logic_instance||{},window.jmfe_logic_instance.resume=!1,window.jmfe_logic_instance.job=wp.codeEditor.initialize("job_logic_textarea",jmfe_logic_editor_config),a("#resume_logic_textarea").length&&(window.jmfe_logic_instance.resume=wp.codeEditor.initialize("resume_logic_textarea",jmfe_logic_editor_config)),a(".beautify-code").click(function(){var b=a(this).data("type"),c=window.jmfe_logic_instance[b];"undefined"!==js_beautify&&c.codemirror.setValue(js_beautify(c.codemirror.getValue()))}),a(".minify-code").click(function(){var b=a(this).data("type"),c=window.jmfe_logic_instance[b],d=c.codemirror.getValue(),e=JSON.stringify(JSON.parse(d));c.codemirror.setValue(e)}),a("#save_job_logic").click(function(){var b=job_instance.codemirror.getValue("");if("CONFIRM_RESET"!==b)try{b=JSON.parse(b)}catch(c){return void alert("Please make sure there are no errors in your job JSON to save the configuration!")}var d={logic_type:"job",action:"jmfe_logic_backup_save",nonce:a("#jmfe_logic_backup_save").val(),logic:b};a.ajax(ajaxurl,{type:"POST",dataType:"JSON",data:d,beforeSend:function(){},success:function(b){b&&b.success===!0&&(b.data&&b.data.message?a("#job_notice_p").html(b.data.message):a("#job_notice_p").html("Success"),a("#job_notice").removeClass("notice-error").addClass("notice-success").show()),b&&b.success===!1&&(a("#job_notice_p").html(b.data.error),a("#job_notice").removeClass("notice-success").addClass("notice-error").show())}})}),a(".save_logic").click(function(){var b=a(this).data("type"),c=window.jmfe_logic_instance[b],d=c.codemirror.getValue("");if("CONFIRM_RESET"!==d)try{d=JSON.parse(d)}catch(e){return void alert("Please make sure there are no errors in your "+b+" JSON to save the configuration!")}var f={logic_type:b,action:"jmfe_logic_backup_save",nonce:a("#jmfe_logic_backup_save").val(),logic:d};a.ajax(ajaxurl,{type:"POST",dataType:"JSON",data:f,beforeSend:function(){a(".wrap").addClass("disabled-wrap")},success:function(b){a(".wrap").removeClass("disabled-wrap"),b&&b.success===!0&&(b.data&&b.data.message?a("#logic_notice_p").html(b.data.message):a("#logic_notice_p").html("Success"),a("#logic_notice").removeClass("notice-error").addClass("notice-success").show()),b&&b.success===!1&&(a("#logic_notice_p").html(b.data.error),a("#logic_notice").removeClass("notice-success").addClass("notice-error").show()),a(window).scrollTop(0)}})})});