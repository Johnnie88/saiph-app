jQuery(document).ready((function(o){o(".bookmark-notice").click((function(){return o(".bookmark-details").slideToggle(),o(this).toggleClass("open"),!1})),o(".job-manager-bookmark-action-delete").click((function(){if(o(this).hasClass("disabled"))return!1;const s=o(this),e=s.closest("tr");if(confirm(job_manager_bookmarks.i18n_confirm_delete)){const a=o("<span />",{class:"spinner",style:"background-image: url("+job_manager_bookmarks.spinner_url+")"}).insertAfter(s);s.addClass("disabled"),e.addClass("performing-action"),jQuery.getJSON(o(this).attr("href"),{"wpjm-ajax":1}).done((function(o){o&&o.success&&e.remove()})).fail((function(o){console.log({failed_task:"Bookmark Deletion",response_code:o.status,response:o.responseText})})).always((function(){a.remove(),e.removeClass("performing-action"),s.removeClass("disabled")}))}return!1})),o(".wp-job-manager-bookmarks-form .remove-bookmark").click((function(){if(o(this).hasClass("disabled"))return!1;const s=o(this);if(confirm(job_manager_bookmarks.i18n_confirm_delete)){const e=o("<span />",{class:"spinner is-active",style:"background-image: url("+job_manager_bookmarks.spinner_url+")"}).appendTo(s);s.addClass("disabled performing-action"),jQuery.getJSON(o(this).attr("href"),{"wpjm-ajax":1}).done((function(e){if(e&&e.success){const e=s.closest("form.wp-job-manager-bookmarks-form");o("#bookmark_notes").val(""),e.removeClass("has-bookmark"),e.find(".submit-bookmark-button").prop("value",job_manager_bookmarks.i18n_add_bookmark)}})).fail((function(o){console.log({failed_task:"Bookmark Deletion",response_code:o.status,response:o.responseText})})).always((function(){e.remove(),s.removeClass("disabled performing-action")}))}return!1}));const s=o(".wp-job-manager-bookmarks-form input[type=submit]").click((function(){return!o(this).hasClass("disabled")})),e=o(this).find(".spinner");o(".wp-job-manager-bookmarks-form").submit((function(a){a.preventDefault();const n=o(this);e.addClass("is-active"),s.addClass("disabled"),o.post({url:o(this).attr("action"),data:o(this).serialize()+"&wpjm-ajax=1&submit_bookmark=1"}).done((function(s){s&&s.success&&(s.note&&o("#bookmark_notes").val(s.note),n.addClass("has-bookmark"),n.find(".submit-bookmark-button").prop("value",job_manager_bookmarks.i18n_update_bookmark))})).always((function(){e.removeClass("is-active"),s.removeClass("disabled")})).fail((function(o){console.log({failed_task:"Bookmark Save",response_code:o.status,response:o.responseText})}))}))}));