(()=>{"use strict";!function(e){const t=Array.from(document.querySelector(".wp-job-manager-applications-form-editor-tabs").querySelectorAll(".tab-link")).map((e=>({link:e,content:document.querySelector(e.getAttribute("href"))})));function i(e){var i;const s=location.hash.replace(/^#/,""),n=null!==(i=t.find((e=>{let{content:t}=e;return t.id===s})))&&void 0!==i?i:t[0];t.forEach((e=>{e.content.classList.toggle("current",e===n),e.link.classList.toggle("current",e===n)})),e?.preventDefault()}i(),window.addEventListener("hashchange",i)}(),jQuery(document).ready((function(e){const t={minimumResultsForSearch:10};1===parseInt(wp_job_manager_applications_form_editor.is_rtl,10)&&(t.dir="rtl"),e(".wp-job-manager-applications-form-editor").on("init",(function(){e("#form-fields",this).sortable({items:"tr",cursor:"move",axis:"y",handle:"td.sort-column",scrollSensitivity:40,helper:(t,i)=>(i.children().each((function(){e(this).width(e(this).width())})),i),start(e,t){t.item.css("background-color","#FEFEE6")},stop(e,t){t.item.removeAttr("style")}}),e(this).find(".field-type select").change(),e.isFunction(e.fn.select2)?e(this).find(".field-rules select").select2(t).change():e.isFunction(e.fn.chosen)&&e(this).find(".field-rules select").chosen().change()})).on("rules:refresh",".field-rules select",(function(){if(e.isFunction(e.fn.select2)){const t=this;setTimeout((function(){e(t).select2()}),500)}else e(this).trigger("chosen:updated")})).on("rule:deselect",".field-rules select",(function(t,i){void 0!==i.deselected&&e(".field-rules select").each((function(){e(this).find("option[value="+i.deselected+"]").removeProp("disabled"),e(this).trigger("rules:refresh")}))})).on("select2:unselect",".field-rules select",(function(t){const i=t.params.data;e(this).trigger("rule:deselect",{deselected:i.id})})).on("change",".field-rules select",(function(t,i){if(void 0!==i&&void 0!==i.deselected)return void e(this).trigger("rule:deselect",i);const s=e(this),n=[];jQuery.each(e(this).val(),(function(e,t){s.find("option[value="+t+"]").hasClass("unique")&&n.push(t)})),n.length>0&&e(".field-rules select").each((function(){if(this.isEqualNode(s.get(0)))return;const t=e(this);jQuery.each(n,(function(e,i){t.find("option[value="+i+"]").prop("disabled",!0).removeProp("selected")})),e(this).trigger("rules:refresh")}))})).on("change",".field-type select",(function(){if(e(this).closest("tr").find(".field-options .placeholder").hide(),e(this).closest("tr").find(".field-options .options").hide(),e(this).closest("tr").find(".field-options .na").hide(),e(this).closest("tr").find(".field-options .file-options").hide(),"select"===e(this).val()||"multiselect"===e(this).val()?e(this).closest("tr").find(".field-options .options").show():"resumes"===e(this).val()||"output-content"===e(this).val()?e(this).closest("tr").find(".field-options .na").show():"file"===e(this).val()?e(this).closest("tr").find(".field-options .file-options").show():e(this).closest("tr").find(".field-options .placeholder").show(),e(this).closest("tr").find(".field-rules .rules").hide(),e(this).closest("tr").find(".field-rules .na").hide(),"output-content"===e(this).val()){e(this).closest("tr").find(".field-rules .na").show();const t=e(this).closest("tr").find(".field-rules select");jQuery.each(t.val(),(function(e,i){t.trigger("rule:deselect",{deselected:i})})),t.val("")}else e(this).closest("tr").find(".field-rules .rules").show(),e.isFunction(e.fn.select2)?e(this).closest("tr").find(".field-rules select:visible").select2(t):e.isFunction(e.fn.chosen)&&e(this).closest("tr").find(".field-rules select:visible").chosen()})).on("click",".delete-field",(function(){window.confirm(wp_job_manager_applications_form_editor.confirm_delete_i18n)&&e(this).closest("tr").remove()})).on("click",".reset",(function(){return!!window.confirm(wp_job_manager_applications_form_editor.confirm_reset_i18n)})).on("click",".add-field",(function(){const t=e(this).closest("table").find("tbody");let i=t.data("field");return i=i.replace(/\[-1\]/g,"["+t.find("tr").length+"]"),t.append(i),e(".wp-job-manager-applications-form-editor").trigger("init"),!1})),e(".wp-job-manager-applications-form-editor").trigger("init")}))})();